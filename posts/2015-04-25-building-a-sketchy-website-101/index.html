<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 
			
  
    <meta name="twitter:card" content="summary"/>
    
      <meta name="twitter:image" content="https://vmresu.me/images/avatar.png" />
    
  
  
  <meta name="twitter:title" content="Building a Sketchy Website 101"/>
  <meta name="twitter:description" content="Back in April, I won a free &ldquo;.club&rdquo; domain through gandi.net&rsquo;s anniversary prize giveaway. I really didn&rsquo;t need a &ldquo;.club&rdquo; domain in particular, so I thought it would be pretty fun to register a stereotypical &ldquo;sketchy&rdquo; domain and set it up as a drive-by download site or something, because while I&rsquo;ve heard of doing this kind of thing, I&rsquo;ve never actually done it before. Here&rsquo;s a blog post walking through what I did."/>
  
    <meta name="twitter:site" content="@offlinemark"/>
  
  
  
  
    <meta name="twitter:creator" content="@Mark Mossberg"/>
  



		
		<meta name="author" content="Mark Mossberg">
		<meta name="description" content="Hacker Nonsense">
		<meta name="generator" content="Hugo 0.59.0" />
		<title>Building a Sketchy Website 101 &middot; Mark Mossberg&#39;s Blog</title>
		<link rel="shortcut icon" href="https://vmresu.me/images/favicon.ico">
		<link rel="stylesheet" href="https://vmresu.me/css/style.css">
		<link rel="stylesheet" href="https://vmresu.me/css/highlight.css">

		
		<link rel="stylesheet" href="https://vmresu.me/css/font-awesome.min.css">
		

		
		<link href="https://vmresu.me/index.xml" rel="alternate" type="application/rss+xml" title="Mark Mossberg&#39;s Blog" />
		

		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://vmresu.me/'> <span class="arrow">←</span>Home</a>
	
	<a href='https://vmresu.me/posts'>Archive</a>
	<a href='https://vmresu.me/tags'>Tags</a>
	<a href='https://vmresu.me/about'>About</a>

	

	
	
	<a  href="https://vmresu.me/index.xml">Subscribe</a>
	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        Building a Sketchy Website 101
                    </h1>
                    <h2 class="headline">
                    Apr 25, 2015
                    · 406 words
                    · 2 minute read
                      <span class="tags">
                      
                      </span>
                    </h2>
                </header>
                
                <section id="post-body">
                    

<p>Back in April, I won a free &ldquo;.club&rdquo; domain through gandi.net&rsquo;s
<a href="https://15.gandi.net">anniversary</a> prize giveaway. I really didn&rsquo;t need
a &ldquo;.club&rdquo; domain in particular, so I thought it would be pretty fun to
register a stereotypical &ldquo;sketchy&rdquo; domain and set it up as a drive-by
download site or something, because while I&rsquo;ve <em>heard</em> of doing this kind of
thing, I&rsquo;ve never actually done it before. Here&rsquo;s a blog post walking through
what I did. The usual disclaimer applies here: I did this purely for my
own education and learning experience and am not responsible for anything
you do with it.</p>

<h3 id="step-1-register-your-sketchy-domain">Step 1: Register your sketchy domain</h3>

<p>I chose <a href="http://freemoviedownload.club">http://freemoviedownload.club</a>.</p>

<h3 id="step-2-set-up-drive-by-downloads">Step 2: Set up drive-by downloads</h3>

<p>This involves configuring your web server to automatically set the
<code>Content-Type</code> header of the resource you want to force download
to <code>application/octet-stream</code>. That should make most web browsers trigger
a download file prompt to actually download the file. Safari curiously
doesn&rsquo;t support prompts for downloaded file location like Chrome and Firefox,
so in that case, it will immediately download the file to <code>~/Downloads</code>.</p>

<p>I&rsquo;m going to try to force a drive-by download of a jpg file, so I added
the below config to my <code>.htaccess</code> file in Apache&rsquo;s <code>DocumentRoot</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml .htaccess" data-lang="xml .htaccess">&lt;Files *.jpg&gt;
        ForceType application/octet-stream
&lt;/Files&gt;</code></pre></div>
<p>That will force browers to download the image, rather than rendering it
when a browser tries to access <code>http://freemoviedownload.club/image.jpg</code>, for
example.</p>

<p>At this point, we&rsquo;re technically done. We can send someone a link to a file
and, assuming they say yes to the prompt (or use Safari), download it to their
computer.  But for some extra polish, I want to have an actual website with
content and have the download come from <em>that</em> page.</p>

<h3 id="step-3-redirect">Step 3: Redirect</h3>

<p>We can accomplish this with a trivial Javascript redirect that executes
after the page has loaded. We can even add a delay before the download happens
to give them time to read the website or whatever. The redirect will need
to be to the path configured in step 2, but this will give the illusion that
the download is coming from the <code>index.html</code> page.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html index.html" data-lang="html index.html">you have arrived at the official free movie download club! enjoy your download
<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">script</span> <span style="color:#c4a000">type</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;text/javascript&#34;</span> <span style="color:#c4a000">charset</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;utf-8&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
    <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">f</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87">document</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">location</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;dickbutt.jpg&#39;</span> <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000">setTimeout</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2000</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">script</span><span style="color:#000;font-weight:bold">&gt;</span></code></pre></div>
<p>That&rsquo;s it! Anyone that browses to the website will automatically get a nice
&ldquo;dickbutt.jpg&rdquo; image downloaded to their machine. Again, particularly effective
against Safari and Chrome for Android, in my testing.</p>

<p><img src="/img/sketchy.gif" alt="" /></p>

                </section>
            </article>

            
                <a class="twitter" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fvmresu.me%2fposts%2f2015-04-25-building-a-sketchy-website-101%2f - Building%20a%20Sketchy%20Website%20101 by @offlinemark"><span class="icon-twitter"> tweet</span></a> | 

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

            

            
                <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'your_disqus_short_name'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.github.com/mossberg">
        <i class="fa fa-github-square"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/offlinemark">
        <i class="fa fa-twitter-square"></i>
    </a>
    


</div>

    
    <p class="small">
    
       © Copyright 2019 <i class="fa fa-heart" aria-hidden="true"></i> Mark Mossberg
    
    </p>
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
    </p>
</footer>

        </section>

        <script src="https://vmresu.me/js/jquery-3.3.1.min.js"></script>
<script src="https://vmresu.me/js/main.js"></script>
<script src="https://vmresu.me/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-36552439-2', 'auto');
	
	ga('send', 'pageview');
}
</script>





    </body>
</html>
